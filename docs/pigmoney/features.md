# PigMoney 기능 상세 기획

## 1. 조회 화면

### 레이아웃

- **PC**: 수입/지출 목록을 좌우로 분할하여 동시에 표시
- **모바일**: 수입/지출 탭 전환 방식으로 하나씩 표시

### 기본 조회 로직

- 페이지 진입 시 **최근 1주일** 데이터를 자동으로 조회
- 각 거래 카드에는 날짜, 카테고리, 내용, 금액, 비고가 표시됨
- 각 거래 카드에 수정/삭제 버튼 제공

### 검색/필터

- **날짜 구간 선택**: 시작일 ~ 종료일 DatePicker로 조회 범위 지정
- **전체 토글**: 검색 버튼 옆의 "전체" 토글을 ON하면 날짜 구간 무시, 전체 기간 조회
- **검색 버튼**: 설정된 조건으로 데이터 재조회

### 통계 요약

- 현재 조회된 구간(날짜 구간 or 전체)에 대해 통계 산출
- 표시 항목: 총 수입, 총 지출, 잔액(수입 - 지출)
- 향후 확장: 카테고리별 원형 그래프, 월별 추이 차트 등

---

## 2. 거래 작성 (모달)

### 구조

- 하나의 모달에서 수입/지출을 구분 없이 동시에 입력 가능
- 각 행에 수입/지출 토글이 있어 행별로 타입 결정

### 입력 행 구조

각 행은 다음 필드로 구성됨 (비고 제외 모두 필수):

| 필드 | 유형 | 필수 | 설명 |
|------|------|------|------|
| 수입/지출 토글 | Switch | O | 기본값: 지출 |
| 날짜 | DatePicker | O | 거래 발생 날짜 |
| 카테고리 | Select | O | 사용자가 관리하는 카테고리 목록에서 선택 |
| 내용 | Text Input | O | 거래 내용 (예: 점심 식사) |
| 금액 | Number Input | O | 양의 정수만 입력 가능 |
| 비고 | Text Input | X | 추가 메모 |
| 삭제 | Button | - | 해당 행 삭제 (행이 1개뿐이면 비활성화) |

### 행 추가

- 하단에 "행 추가" 버튼으로 새로운 입력 행을 추가
- 새 행의 기본값: 지출, 오늘 날짜, 빈 필드

### 저장

- "저장" 버튼 클릭 시 모든 행에 대해 validation 실행
- validation 통과 시 서버에 일괄 저장 후 모달 닫힘
- 실패 시 해당 필드에 에러 메시지 표시

---

## 3. 거래 수정 (모달)

- 조회 화면의 각 거래 카드에서 수정 버튼 클릭
- 수정 모달은 단일 행만 편집 (작성 모달과 동일한 필드 구조)
- 저장 시 validation 후 해당 거래만 업데이트

---

## 4. 거래 삭제

- 조회 화면의 각 거래 카드에서 삭제 버튼 클릭
- 확인 다이얼로그 표시 후 확인 시 삭제
- 삭제 후 목록 자동 갱신

---

## 5. 카테고리 관리

### 기본 카테고리

첫 접속 시 다음 3개의 기본 카테고리가 자동 생성됨:
- 식비
- 간식
- 구독

### 관리 기능

- 별도 모달에서 카테고리 목록 확인
- 카테고리 추가: 이름 입력 후 추가
- 카테고리 수정: 기존 카테고리명 변경
- 카테고리 삭제: 해당 카테고리에 연결된 거래가 없을 때만 삭제 가능 (있으면 경고)

---

## 6. 화면 구성 요약

```
┌─────────────────────────────────────────────────┐
│ [PigMoney 로고]        [카테고리 관리] [테마 토글] │  ← 헤더
├─────────────────────────────────────────────────┤
│ [시작일] ~ [종료일] [전체 토글] [검색] [거래 추가] │  ← 필터 영역
├─────────────────────────────────────────────────┤
│  총 수입: ₩XXX    총 지출: ₩XXX    잔액: ₩XXX    │  ← 통계 요약
├───────────────────────┬─────────────────────────┤
│      수입 목록        │      지출 목록           │  ← 거래 목록 (PC)
│  ┌─────────────────┐  │  ┌─────────────────┐    │
│  │ 카드 1          │  │  │ 카드 1          │    │
│  │ 카드 2          │  │  │ 카드 2          │    │
│  └─────────────────┘  │  └─────────────────┘    │
└───────────────────────┴─────────────────────────┘
```
